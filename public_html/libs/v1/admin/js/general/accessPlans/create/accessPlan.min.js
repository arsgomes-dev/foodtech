function cleanDescriptionElement(){document.getElementById("description_element").value="",document.getElementById("to_validation_blank_descriptions_elements[]").style.display="none",document.getElementById("description_element").style.borderColor="#ced4da"}function addDescriptionElementDiv(e,n,t){var i,o=0;if(document.getElementsByName("descriptions_elements_count[]")&&(o=document.getElementsByName("descriptions_elements_count[]").length),0<o)for(var l=0;l<o;l++)$("input[name='descriptions_elements_count[]']").each(function(){i=parseInt($(this).val()),n===i&&(n+=1)});var d="";d+='<div id="div_description_element_'+n+'" class = "description_element">',d+='<input type="hidden" name="descriptions_elements[]" id="descriptions_elements[]" value="'+t+'">',d+='<input type="hidden" name="descriptions_elements_count[]" id="descriptions_elements_count[]" value="'+n+'">',d+="<font>"+t+"&nbsp;&nbsp;</font>",d+='<a title="'+language_delete_option+'" id="div_description_element_'+n+'" href="javascript:void(0)" onclick="deleteDescriptionElement(this);"><i class="nav-icon fas fa-xmark"></i></a>',d+="</div>",document.getElementById("description_element_count").value=n;const c=document.getElementById(e);let s=document.createElement("div");s.innerHTML=d,c.appendChild(s)}function mouseClickDescription(){$("#description_element").select(),document.getElementById("div_description_elements").style.borderColor="#3c8dbc"}function cleanForm(e){cancelValidationForm(e),document.getElementById("div_description_elements").style.borderColor="#ced4da",e.reset(),$(".new-modal").modal("hide")}function createAccessPlan(n){var e;if(document.querySelector("#dir_site")&&(e="",null!==(t=document.querySelector("#dir_site")).value&&""!==t.value&&(e="/"+t.value)),validationForm(n)){const i=swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3});var t=$("#"+n.id).serialize();$.post(e+"/control/AccessPlans/SavePlan",t,function(e){e=e.split("->");"1"===e[0]?(i.fire({icon:"success",title:" "+e[1]}),cleanForm(n),$(".new-modal").modal("hide"),loadPlans()):"2"===e[0]&&i.fire({icon:"warning",title:" "+e[1]})})}else""!==document.getElementById("description_element_count").value&&null!==document.getElementById("description_element_count").value||(document.getElementById("div_description_elements").style.borderColor="#dc3545")}$(document).ready(function(){$(".data").datepicker();var e=document.getElementById("site_locale").value;Inputmask(masks[e]).mask(".data")}),function(c){addDescriptionElement=function(){var e="description_elements",n=0;document.getElementsByName("descriptions_elements[]")&&(n=document.getElementsByName("descriptions_elements[]").length);var t,i=document.getElementById("description_element"),o=!1;if(null!==i.value&&""!==i.value?c("#validation_description_lang").html(""):(document.getElementById("to_validation_blank_description").style.display="block",i.style.borderColor="red",i.focus(),o=!0),!1===o)if(0<n){for(var l=0;l<n;l++)c("input[name='descriptions_elements[]']").each(function(){c(this).val()===i.value&&(t=1)});if(1!==t)addDescriptionElementDiv(e,n,i.value),cleanDescriptionElement();else{const d=swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3});d.fire({icon:"warning",title:" "+language_subscription_validation_input_insert_description})}}else addDescriptionElementDiv(e,n,i.value),cleanDescriptionElement()},deleteDescriptionElement=function(e){if(""!==e||null!==e){e=document.getElementById(e.id);return e.parentNode.removeChild(e),count_inputs=document.getElementsByName("descriptions_elements[]").length,count_inputs<=0&&(document.getElementById("description_element_count").value=null),!1}}}(jQuery),$(document).ready(function(){document.getElementById("description_element").onblur=function(){document.getElementById("div_description_elements").style.borderColor="#ced4da"},$("#description_element").on("keydown",function(e){13===e.keyCode&&addDescriptionElement()})});const btnCreatePlan=document.getElementById("div-create-plan");btnCreatePlan.addEventListener("click",function(){createAccessPlan(new_plan)});const btnCleanFormPlan=document.getElementById("div-clean-plan");btnCleanFormPlan.addEventListener("click",function(){cleanForm(new_plan)});