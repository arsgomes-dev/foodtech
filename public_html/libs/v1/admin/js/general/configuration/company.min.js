function updateCompany(t){if(document.querySelector("#dir_site")){var e=document.querySelector("#dir_site"),o="";null!==e.value&&""!==e.value&&(o="/"+e.value)}if(validationForm(t)){const e=swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3});var n=$("#"+t.id).serialize();$.post(o+"/configuration/updatecompany",n,(function(t){var o=t.split("->");"1"===o[0]?e.fire({icon:"success",title:" "+o[1]}):"2"===o[0]&&e.fire({icon:"warning",title:" "+o[1]})}))}}function logoPhotoSave(){if(document.querySelector("#dir_site")){var t=document.querySelector("#dir_site"),e="";null!==t.value&&""!==t.value&&(e="/"+t.value)}const o=swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3});var n=document.getElementById("form_photo_logo"),a=new FormData(n);$.ajax({url:e+"/configuration/updatelogo",type:"POST",enctype:"multipart/form-data",data:a,processData:!1,contentType:!1,success:function(t){var e=t.split("->");"1"===e[0]?(o.fire({icon:"success",title:" "+e[1]}),document.location.reload(!0)):"1"!==e[0]&&o.fire({icon:"warning",title:" "+e[1]})}})}function readURL(t){if(t.files&&t.files[0]){var e=new FileReader;e.onload=function(t){document.getElementById("div_modal_logo_img").style.display="block",document.getElementById("div_modal_logo_i_div").style.display="none",$("#div_modal_logo_img").attr("src",t.target.result)},e.readAsDataURL(t.files[0])}}function uploadPhoto(){$("#logo_photo").trigger("click")}function cleanFormPhoto(){document.getElementById("div_modal_logo_img").style.display="none",document.getElementById("div_modal_logo_i_div").style.display="block",$("#div_modal_logo_img").attr("src",""),$("#logo_photo").attr("value","")}$(document).ready((function(){cnpjFormat(document.getElementById("cnpj")),cepFormat(document.getElementById("cep")),$(".data").datepicker();var t=document.getElementById("site_locale").value;Inputmask(masks[t]).mask(".data"),$("#cep").inputmask("99999-999",{placeholder:"#####-###"}),$("#contact").inputmask("(99) 99999-9999",{placeholder:"(##) #####-####"})})),$(document).ready((function(){$("#logo_photo").on("change",(function(){readURL(this)}))})),document.addEventListener("DOMContentLoaded",(()=>{document.getElementById("btn-update-company").addEventListener("click",(function(){updateCompany(update_company)}));document.getElementById("div-upload-logo-photo").addEventListener("click",(function(){uploadPhoto()}));document.getElementById("btn-clean-form-photo").addEventListener("click",(function(){cleanFormPhoto()}));document.getElementById("btn-save-photo").addEventListener("click",(function(){logoPhotoSave()}))}));