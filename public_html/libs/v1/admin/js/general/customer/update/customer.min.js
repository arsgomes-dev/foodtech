function emailSearch(e,t){var i=!0,o=e.id;if(emailValidation(e)){if(document.querySelector("#dir_site")){var n=document.querySelector("#dir_site"),a="";null!==n.value&&""!==n.value&&(a="/"+n.value)}var l="email="+e.value;""!==t&&null!==t&&(l+="&code="+t),$.post(a+"/customers/search/search_email",l,(function(t){"1"===t?(e.classList.add("is-invalid"),document.getElementById("to_validation_already_registered_"+o).style.display="block",document.getElementById("to_validation_blank_"+o).style.display="none",i=!1):(e.classList.remove("is-invalid"),document.getElementById("to_validation_already_registered_"+o).style.display="none",document.getElementById("to_validation_blank_"+o).style.display="none",i=!0)}))}else document.getElementById("to_validation_already_registered_"+o).style.display="none";return i}function updateCustomer(e){if(document.querySelector("#dir_site")){var t=document.querySelector("#dir_site"),i="";null!==t.value&&""!==t.value&&(i="/"+t.value)}if(validationForm(e)&&emailSearch(e.email,e.code.value)){const t=swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3});var o=$("#"+e.id).serialize();$.post(i+"/customers/save",o,(function(e){var i=e.split("->");"1"===i[0]?t.fire({icon:"success",title:" "+i[1]}):"2"===i[0]&&t.fire({icon:"warning",title:" "+i[1]})}))}}function recoveryPasswd(e){if(document.querySelector("#dir_site")){var t=document.querySelector("#dir_site"),i="";null!==t.value&&""!==t.value&&(i="/"+t.value)}swal.fire({title:recoveryTitle,text:recoveryText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:recoveryButton}).then((t=>{if(t.isConfirmed){const t=swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3});var o="code="+e;$.post(i+"/customers/recover",o,(function(e){var i=e.split("->");"1"===i[0]?t.fire({icon:"success",title:" "+i[1]}):"2"===i[0]&&t.fire({icon:"warning",title:" "+i[1]})}))}}))}function updateStatus(e){if(document.querySelector("#dir_site")){var t=document.querySelector("#dir_site"),i="";null!==t.value&&""!==t.value&&(i="/"+t.value)}if(validationForm(e)){const t=swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3});var o=$("#"+e.id).serialize();$.post(i+"/customers/update_status",o,(function(e){var i=e.split("->");if("1"===i[0]){t.fire({icon:"success",title:" "+i[1]});var o=document.getElementById("status"),n=o.children[o.selectedIndex].textContent;document.getElementById("tr-status").innerHTML=n,location.reload()}else"2"===i[0]&&t.fire({icon:"warning",title:" "+i[1]});$("#modal-status").modal("hide")}))}}$(document).ready((function(){$("#birth").inputmask("dd/mm/yyyy",{placeholder:"dd/mm/yyyy"}),$("#contact").inputmask("(99) 99999-9999",{placeholder:"(##) #####-####"}),cpfFormat(document.getElementById("cpf"))}));